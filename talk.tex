\documentclass[aspectratio=169,handout]{beamer}

\makeatletter
\appto\input@path{{libs/awesome-beamer}, {libs/smile}}
\makeatother

\usepackage[
	backend=biber,
	style=alphabetic
]{biblatex}
\usepackage[strict,autostyle]{csquotes}
\nocite{*}
\addbibresource{refs.bib}

\usepackage{fontspec}
\setsansfont[
	Ligatures=TeX,
	BoldFont={* Medium},
]{Fira Sans}
\setmonofont[
	Path = ./fonts/,
	Scale = .9,
	Extension = .ttf,
	Contextuals=Alternate,
	BoldFont={*-Bold},
	UprightFont={*-Regular},
]{Fira Code}
\definecolor{forest}{HTML}{1a4301}
\usetheme[english, color, coloraccent=forest, listings]{awesome}


\usepackage[duration=90]{pdfpc}
\newcommand<>{\talknote}[1]{\only#2{\pdfpcnote{- #1}\relax}}

\usepackage[verbatim]{lstfiracode}
\lstdefinestyle{firastyleb}{style=FiraCodeStyle,style=smile@lst@base}
\lstdefinestyle{firastylep}{style=FiraCodeStyle,style=smile@lst@plain}
\lstset{
	tabsize=4,
	style=firastyleb,
	apptoliterate={{=> }{{{=> }}}3} % for whatever reason, the space would otherwise be eaten
}
\newcommand\h[2][]{\lstinline[language=haskell,#1]{#2}}

\title{Lenses}
\subtitle{Functional Programming II}
\author{Lukas Pietzschmann}
\email{lukas.pietzschmann@uni-ulm.de}
\institute{Institute of Software Engineering and Programming Languages}
\uni{Ulm University}
\location{Ulm}
\date{May 13$^\text{th}$, 2024}

\begin{document}
\maketitle

\section{What}

\begingroup
\colorlet{m}{blue!45!black}
\setbeamercolor{footline}{fg=white,bg=m}
\setbeamercolor{footlineright}{fg=white,bg=m}
\def\qn#1{\textcolor{orange!80!black}{\textbf{#1}}}
\begin{frame}
	\frametitle{What are lenses}
	\tikzset{q/.style={chamfered rectangle,draw,lw,chamfered rectangle xsep=2cm,fill=m,text=white}}
	\tikzset{qa/.style={q,text width=0.4\textwidth}}
	\begin{wide}
		\begin{center}
			\centerline{\h[morekeywords={forall}]{type Lens s t a b = forall f. Functor f => (a -> f b) -> s -> f t}}
			\vskip5\bigskipamount
			\begin{tikzpicture}[o,node distance=.5ex]
				\draw[draw=none,top color=white,bottom color=m] (current page.west) rectangle ([yshift=1.8ex]current page.south east);

				\node[q] at ([yshift=-5mm]current page) (Q) {What is the purpose of a lens, according to the type above?};
				\coordinate (AS) at ([yshift=-1.3cm]Q.south);

				\node[qa,left=of AS,left] (A) {\scriptsize\qn{A:} A package for creating visualizations};
				\node[qa,right=of AS,right] (B) {\scriptsize\qn{B:} A tool for handling nested ADTs};

				\node[qa,below=of A] (C) {\scriptsize\qn{C:} A framework for building UIs};
				\node[qa,below=of B] (D) {\scriptsize\qn{D:} A package for simulating optical lenses};

				\draw[lw,short=-1pt] (A.east) to (B.west);
				\draw[lw,short=-1pt] (C.east) to (D.west);

				\draw[lw,short=-1pt] (Q.west) to (Q.west -| current page.west);
				\draw[lw,short=-1pt] (Q.east) to (Q.east -| current page.east);

				\draw[lw,short=-1pt] (A.west) to (A.west -| current page.west);
				\draw[lw,short=-1pt] (C.west) to (C.west -| current page.west);
				\draw[lw,short=-1pt] (B.east) to (B.east -| current page.east);
				\draw[lw,short=-1pt] (D.east) to (D.east -| current page.east);

				\node[anchor=south east,color=white!70!m] at ([yshift=1.5ex]current page.south east) {\fontsize{5}{5}\selectfont All options were generated by AI};
			\end{tikzpicture}
		\end{center}
	\end{wide}
\end{frame}
\endgroup

\section{References}
\defbibheading{bibliography}[\bibname]{}
\begin{frame}[allowframebreaks]
	\frametitle{References}
	\printbibliography
\end{frame}
\end{document}
